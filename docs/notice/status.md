---
sidebar_position: 3
description: 簡要列出伺服器可能斷線的原因
pagination_next: null
---

# 伺服器無法連線?

玩家在遊玩過程中可能會出現斷線，無法連線至伺服器的情況。請[確認伺服器在線狀況](#確認伺服器在線狀態)，如幾分鐘後仍顯示離線，請在聊天室反映(可標註管理員)。

管理員可能無法立即處理問題，因此本文將簡要介紹伺服器目前的網路架構，並列出可能的斷線原因供玩家了解。

通常伺服器無法連接，若非伺服器崩潰，大多是由網路問題引起。

<details>
    <summary>目前伺服器網路結構</summary>

        由於伺服器主機目前並無公網IP可用，因此採內網穿透的形式供外部連線，如下：

        玩家裝置 -> 公網主機 -> MC伺服器主機

        此過程中包含玩家，一供經過三段網路與兩台主機，其中任一部分出現異常，皆會導致玩家無法連線至伺服器。
</details>

---

## 確認伺服器在線狀態
可透過以下管道確認目前是否在線:
* [Sparkle官網 - 伺服器狀態](https://wtf.spksmp.top/status)
  * 不排除API壞掉
* [Discord群 #伺服器資訊](https://discord.com/channels/826110789038374962/846979721887481917/921654476153184267)
  * 請確認時間是否正確

創造服狀態目前只可在官網查看  
<s>因為我懶得改BOT惹</s>

### 透過DC機器人確認主機狀態
> Discord群內有兩隻機器人可辨別主機狀態  
> ![alt text](image-7.png)
* 兩BOT分別架設在公網主機與伺服器主機
* 可觀察其 **在線狀態** 參考以下表格

    | 卡米啾 | 喵醬 | 可能狀況                                                                           |
    | ------ | ---- | ---------------------------------------------------------------------------------- |
    | 🟢  | 🟢 | 伺服器應正常在線，若顯示離線則可能為FRP內網穿透未開啟                              |
    | 🟢   | ⚫ | 伺服器主機異常，服主在搞                                                           |
    | ⚫   | 🟢 | 公網主機異常，聊天室[@麻薯](https://discord.com/users/456748434838388738) |
    | ⚫   | ⚫ | 兩主機同時異常機率較低，有可能DC炸惹                                               |

---

## 可能之無法連線狀況

### 未知的主機(IP地址無效)
> ![image](./image-5.png)\
通常是輸入的伺服器地址無法獲取IP
<details>
    <summary>可能原因</summary>
        1. 伺服器地址輸入錯誤
           * 請確認填入的是否與 [**#伺服器資訊**](https://discord.com/channels/826110789038374962/846979721887481917/921654476153184267) 內提供的相同
</details>

### 連線超時(無法連接至世界)
> ![alt text](image-6.png)\
> 最常出現的狀況，因素較多
<details>
    <summary>可能原因</summary>
        1. 端口(埠)輸入錯誤
            * 請確認是否輸入正確
        2. 外網主機浮動IP變更
            * 通常兩三分鐘即恢復正常
            * 可嘗試清除DNS快取(電腦)
              1. 按下`Win+R`,輸入`cmd`
              2. 在彈出的窗口輸入`ipconfig /flushdns`
        3. 伺服器網路異常
            * 前方[主機狀態](/docs/notice/status#透過dc機器人確認主機狀態)有任一BOT不在線
            * 通常只能等待管理員處理
</details>

---

## 例外狀況

### 無法連線到驗證伺服器
> ![alt text](image-8.png)\
> 除了玩家網路因素，也可能是Mojang身份驗證API出狀況
> 
由於伺服器開啟正版驗證，因此需要調用微軟身份驗證API，而當此API無法正常連線時，會造成玩家無法進入開啟正版驗證的伺服器，部份第三方啟動器將無法開啟遊戲，提示無法登入
<details>
    <summary>確認官方API是否正常</summary>
        1. [用戶回報](https://downdetector.tw/status/minecraft/)
            * 可確認目前是否出現連線異常
        2. [官方推特](https://twitter.com/MojangStatus/status/1808210690802340118)
            * 有狀況官方可能會發文(也可能要等很久才發)
</details>

### 其餘狀況待補充
遇到可於聊天室中與大家討論
